services:
  - type: cron
    name: website-monitor
    runtime: docker
    schedule: "*/30 * * * *"
    envVars:
      - key: MONITOR_URLS_FILE
        value: "/app/src/urls.txt"
      - key: MONITOR_SMTP_HOST
        value: "smtp.gmail.com"
      - key: MONITOR_SMTP_PORT
        value: "587"
      - key: MONITOR_SMTP_USER
        value: "howyoudoingkshitij@gmail.com"
      - key: MONITOR_SMTP_PASS
        sync: false
      - key: MONITOR_EMAIL_FROM
        value: "howyoudoingkshitij@gmail.com"
      - key: MONITOR_EMAIL_TO
        value: "howyoudoingkshitij@gmail.com"
      - key: MONITOR_HTTP_TIMEOUT
        value: "10"
      - key: MONITOR_HTTP_RETRIES
        value: "2"
      - key: MONITOR_RETRY_DELAY
        value: "2"
      - key: MONITOR_CONCURRENCY
        value: "10"

    startCommand: "python monitor_multi.py --once"
